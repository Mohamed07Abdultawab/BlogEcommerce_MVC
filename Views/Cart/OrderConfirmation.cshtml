@model BlogEcommerce.Models.Order

@{
    ViewData["Title"] = "Order Confirmation";
}

<div class="container mt-4">
    <div class="text-center mb-4">
        <div class="text-success mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
            </svg>
        </div>
        <h1>Order Confirmed!</h1>
        <p class="lead">Thank you for your order, @Model.CustomerName</p>
        <p>Order #@Model.Id</p>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-body">
                    <h5 class="card-title">Order Details</h5>
                    <hr />
                    <p><strong>Order Date:</strong> @Model.OrderDate.ToString("MMMM dd, yyyy")</p>
                    <p><strong>Status:</strong> <span class="badge bg-warning">@Model.Status</span></p>
                    <p><strong>Total Amount:</strong> $@Model.TotalAmount.ToString("N2")</p>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-body">
                    <h5 class="card-title">Shipping Information</h5>
                    <hr />
                    <p><strong>Name:</strong> @Model.CustomerName</p>
                    <p><strong>Email:</strong> @Model.Email</p>
                    <p><strong>Phone:</strong> @Model.Phone</p>
                    <p><strong>Address:</strong><br />
                        @Model.Address<br />
                        @Model.City, @Model.ZipCode
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Order Items</h5>
            <hr />
            <table class="table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.OrderItems)
                    {
                            <tr>
                                <td>@item.Product?.Name</td>
                                <td>$@item.Price.ToString("N2")</td>
                                <td>@item.Quantity</td>
                                <td>$@((item.Price * item.Quantity).ToString("N2"))</td>
                            </tr>
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="3" class="text-end"><strong>Total:</strong></td>
                        <td><strong>$@Model.TotalAmount.ToString("N2")</strong></td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

    <div class="text-center">
        <a asp-controller="Products" asp-action="Index" class="btn btn-primary">Continue Shopping</a>
        <a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary">Go to Home</a>
    </div>
</div>